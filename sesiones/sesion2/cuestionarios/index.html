<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Exámenes de práctica sobre Oferta, Demanda y Equilibrio de Mercado - Sesión 2 CBC UBA">
    <meta name="keywords" content="oferta y demanda, equilibrio mercado, economía CBC, ceteris paribus, elasticidad">
    <meta name="author" content="Economía CBC - UBA">
    <title>Exámenes de Práctica - Oferta, Demanda y Equilibrio CBC</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
            color: #1f2937;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 2rem;
        }
        .card {
            background-color: #ffffff;
            border-radius: 1rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .gradient-bg {
            background: linear-gradient(135deg, #4f46e5 0%, #a78bfa 100%);
        }
        .quiz-button {
            transition: background-color 0.2s, transform 0.1s;
        }
        .quiz-button:hover {
            background-color: #4338ca;
            transform: translateY(-2px);
        }
        .quiz-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        .answer-button {
            width: 100%;
            background-color: #e5e7eb;
            color: #1f2937;
            text-align: left;
            padding: 1rem 1.5rem;
            border-radius: 0.75rem;
            font-weight: 500;
            transition: background-color 0.2s, transform 0.1s;
        }
        .answer-button:hover:not(:disabled) {
            background-color: #d1d5db;
        }
        .answer-button.correct {
            background-color: #10b981;
            color: white;
            animation: pulse-correct 0.8s;
        }
        .answer-button.incorrect {
            background-color: #ef4444;
            color: white;
            animation: shake 0.5s;
        }
        .explanation {
            background-color: #f0f4f8;
            border-left: 4px solid #4f46e5;
            padding: 1rem;
            margin-top: 1rem;
            border-radius: 0.5rem;
        }
        @keyframes pulse-correct {
            0% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(16, 185, 129, 0); }
            100% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0); }
        }
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            50% { transform: translateX(5px); }
            75% { transform: translateX(-5px); }
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen">
    <div id="app" class="container bg-white p-8 rounded-2xl shadow-xl w-full">
        <!-- Pantalla de selección de cuestionarios -->
        <div id="quiz-selection-screen">
            <h1 class="text-3xl font-bold text-center mb-4 text-indigo-700">Selecciona un Examen de Práctica</h1>
            <p class="text-center text-gray-600 mb-8">Cada examen contiene 20 preguntas aleatorias que abarcan todo el contenido de la unidad. ¡Mucha suerte!</p>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6">
                <button onclick="startQuiz(0)" class="card p-6 text-center gradient-bg text-white font-bold text-xl rounded-lg shadow-md hover:bg-indigo-700 focus:outline-none">Examen de Práctica 1</button>
                <button onclick="startQuiz(1)" class="card p-6 text-center gradient-bg text-white font-bold text-xl rounded-lg shadow-md hover:bg-indigo-700 focus:outline-none">Examen de Práctica 2</button>
                <button onclick="startQuiz(2)" class="card p-6 text-center gradient-bg text-white font-bold text-xl rounded-lg shadow-md hover:bg-indigo-700 focus:outline-none">Examen de Práctica 3</button>
                <button onclick="startQuiz(3)" class="card p-6 text-center gradient-bg text-white font-bold text-xl rounded-lg shadow-md hover:bg-indigo-700 focus:outline-none">Examen de Práctica 4</button>
                <button onclick="startQuiz(4)" class="card p-6 text-center gradient-bg text-white font-bold text-xl rounded-lg shadow-md hover:bg-indigo-700 focus:outline-none">Examen de Práctica 5</button>
                <button onclick="startQuiz(5)" class="card p-6 text-center gradient-bg text-white font-bold text-xl rounded-lg shadow-md hover:bg-indigo-700 focus:outline-none">Examen de Práctica 6</button>
                <button onclick="startQuiz(6)" class="card p-6 text-center gradient-bg text-white font-bold text-xl rounded-lg shadow-md hover:bg-indigo-700 focus:outline-none">Examen de Práctica 7</button>
                <button onclick="startQuiz(7)" class="card p-6 text-center gradient-bg text-white font-bold text-xl rounded-lg shadow-md hover:bg-indigo-700 focus:outline-none">Examen de Práctica 8</button>
                <button onclick="startQuiz(8)" class="card p-6 text-center gradient-bg text-white font-bold text-xl rounded-lg shadow-md hover:bg-indigo-700 focus:outline-none">Examen de Práctica 9</button>
                <button onclick="startQuiz(9)" class="card p-6 text-center gradient-bg text-white font-bold text-xl rounded-lg shadow-md hover:bg-indigo-700 focus:outline-none">Examen de Práctica 10</button>
            </div>
        </div>

        <!-- Pantalla del cuestionario -->
        <div id="quiz-screen" class="hidden">
            <div class="flex justify-between items-center mb-6">
                <div class="text-lg font-semibold text-gray-700">Pregunta <span id="current-question-number"></span> de 20</div>
                <div class="text-lg font-semibold text-gray-700">Puntaje: <span id="score">0</span></div>
            </div>
            <div class="card p-6 mb-6">
                <h2 id="question" class="text-xl font-semibold text-gray-900 mb-6"></h2>
                <div id="options-container" class="space-y-4"></div>
            </div>
            <div id="feedback-message" class="text-center p-4 my-4 rounded-lg font-semibold hidden"></div>
            <button id="next-button" class="quiz-button w-full py-4 mt-6 gradient-bg text-white font-bold text-lg rounded-lg shadow-md focus:outline-none" onclick="nextQuestion()" disabled>Siguiente</button>
        </div>

        <!-- Pantalla de resultados -->
        <div id="results-screen" class="hidden text-center">
            <h1 class="text-3xl font-bold text-indigo-700 mb-4">¡Examen Completo!</h1>
            <p class="text-xl text-gray-700 mb-6">Tu puntaje final es:</p>
            <div class="text-5xl font-extrabold text-white gradient-bg p-8 rounded-full inline-block shadow-lg mb-8">
                <span id="final-score"></span>
                <span class="block text-2xl font-normal mt-2">de 20</span>
            </div>
            <p class="text-lg text-gray-600 mb-4">¡Sigue practicando para dominar el contenido!</p>
            <button class="quiz-button py-4 px-8 mt-4 bg-indigo-600 text-white font-bold text-lg rounded-lg shadow-md hover:bg-indigo-700 focus:outline-none" onclick="restartQuiz()">Volver a la selección</button>
        </div>
    </div>

    <script>
        const allQuestions = [
            // Pool de preguntas sobre Oferta, Demanda y Equilibrio
            {
                question: "¿Qué principio establece que, si todo lo demás permanece constante, la cantidad demandada de un bien disminuye cuando su precio aumenta?",
                options: ["Ley de la Oferta", "Ley de los Rendimientos Decrecientes", "Ley de la Demanda Decreciente", "Principio de Racionalidad"],
                answer: 2,
                explanation: "La Ley de la Demanda Decreciente establece la relación inversa entre el precio y la cantidad demandada de un bien."
            },
            {
                question: "Si el precio de la yerba mate aumenta, y como resultado la gente compra más café, ¿qué efecto se está observando?",
                options: ["Efecto Ingreso", "Efecto Sustitución", "Efecto Renta", "Efecto Mercado"],
                answer: 1,
                explanation: "El Efecto Sustitución ocurre cuando los consumidores reemplazan un bien que se ha encarecido por otro similar más barato."
            },
            {
                question: "Un aumento general en los salarios de la población probablemente causará en el mercado de autos de lujo (un bien normal):",
                options: ["Un movimiento hacia abajo en la curva de demanda", "Un desplazamiento de la curva de demanda hacia la derecha", "Un desplazamiento de la curva de demanda hacia la izquierda", "Ningún cambio en la demanda"],
                answer: 1,
                explanation: "Un aumento en el ingreso provoca un aumento en la demanda de bienes normales, lo que se representa como un desplazamiento de la curva hacia la derecha."
            },
            {
                question: "La curva de oferta tiene pendiente positiva principalmente porque:",
                options: ["A los consumidores les gustan los precios altos", "Los costos de producción suelen aumentar al producir más unidades", "La tecnología siempre mejora", "Los impuestos disminuyen con la producción"],
                answer: 1,
                explanation: "La ley de los rendimientos decrecientes implica que producir unidades adicionales es más costoso, por lo que los productores necesitan precios más altos para tener incentivos a ofrecer más."
            },
            {
                question: "Si el gobierno elimina un impuesto a la producción de zapatos, ¿qué ocurrirá en el mercado de zapatos?",
                options: ["La oferta disminuirá", "La demanda aumentará", "La oferta aumentará", "La demanda disminuirá"],
                answer: 2,
                explanation: "Eliminar un impuesto reduce los costos de producción, lo que incentiva a los productores a ofrecer más a cada precio. Esto desplaza la curva de oferta hacia la derecha (aumento de la oferta)."
            },
            {
                question: "El punto donde la cantidad demandada es exactamente igual a la cantidad ofrecida se llama:",
                options: ["Punto de saturación", "Excedente del productor", "Equilibrio de mercado", "Escasez de mercado"],
                answer: 2,
                explanation: "El equilibrio de mercado es el punto donde las fuerzas de la oferta y la demanda se balancean, y no hay tendencia al cambio en el precio o la cantidad."
            },
            {
                question: "Si el precio de mercado actual de un producto está por encima del precio de equilibrio, se producirá:",
                options: ["Una escasez", "Un aumento de la demanda", "Un excedente", "Un equilibrio estable"],
                answer: 2,
                explanation: "Un precio superior al de equilibrio causa un excedente, ya que los productores quieren vender más de lo que los consumidores están dispuestos a comprar a ese precio."
            },
            {
                question: "Una campaña publicitaria muy exitosa para las bebidas energéticas provocará:",
                options: ["Un aumento del precio y la cantidad de equilibrio", "Una disminución del precio y un aumento de la cantidad de equilibrio", "Un aumento del precio y una disminución de la cantidad de equilibrio", "Una disminución del precio y la cantidad de equilibrio"],
                answer: 0,
                explanation: "La publicidad exitosa aumenta los gustos y preferencias, desplazando la curva de demanda a la derecha. Esto resulta en un mayor precio y una mayor cantidad de equilibrio."
            },
            {
                question: "¿Cuál de los siguientes es un determinante de la OFERTA?",
                options: ["El ingreso de los consumidores", "Los gustos y preferencias", "El precio de los bienes sustitutos en el consumo", "El costo de la materia prima"],
                answer: 3,
                explanation: "El costo de la materia prima es un componente clave de los costos de producción, que es un determinante fundamental de la oferta."
            },
            {
                question: "El concepto 'ceteris paribus' es crucial en economía porque permite:",
                options: ["Analizar el efecto de una variable manteniendo las demás constantes", "Ignorar todas las variables excepto una", "Asumir que todos los mercados están en equilibrio", "Predecir el futuro con total certeza"],
                answer: 0,
                explanation: "Ceteris paribus, que significa 'todo lo demás constante', es un supuesto que permite aislar el impacto de una variable sobre otra."
            },
            {
                question: "Si las galletitas y la leche son bienes complementarios, una caída en el precio de la leche causará:",
                options: ["Una disminución en la demanda de galletitas", "Un aumento en la demanda de galletitas", "Un aumento en la oferta de galletitas", "Una disminución en la oferta de galletitas"],
                answer: 1,
                explanation: "Al ser bienes complementarios, si la leche es más barata, la gente consumirá más leche y, por lo tanto, también demandará más galletitas para acompañarla."
            },
            {
                question: "Una helada que destruye gran parte de la cosecha de limones provocará en el mercado de limones:",
                options: ["Un desplazamiento a la derecha de la oferta y precios más bajos", "Un desplazamiento a la izquierda de la oferta y precios más altos", "Un desplazamiento a la derecha de la demanda y precios más altos", "Un desplazamiento a la izquierda de la demanda y precios más bajos"],
                answer: 1,
                explanation: "La helada es una influencia especial (clima) que reduce la cantidad de limones disponibles, disminuyendo la oferta (desplazamiento a la izquierda) y elevando el precio de equilibrio."
            },
            {
                question: "El 'racionamiento a través del monedero' significa que los bienes se asignan a:",
                options: ["Quienes más los necesitan", "Quienes llegan primero", "Quienes tienen la disposición y capacidad de pagar el precio de mercado", "Quienes el gobierno decide"],
                answer: 2,
                explanation: "Este concepto describe cómo el mecanismo de mercado distribuye los bienes escasos en función del poder adquisitivo y la voluntad de pago de los consumidores."
            },
            {
                question: "Un 'cambio en la cantidad ofrecida' es causado por:",
                options: ["Un cambio en la tecnología", "Un cambio en el precio del bien", "Un cambio en los impuestos", "Un cambio en el clima"],
                answer: 1,
                explanation: "Un cambio en la cantidad ofrecida representa un movimiento a lo largo de la misma curva de oferta, y es causado únicamente por una variación en el precio del propio bien."
            },
            {
                question: "Si en un mercado la cantidad demandada es de 100 unidades y la cantidad ofrecida es de 50 unidades, existe:",
                options: ["Un excedente que presionará el precio a la baja", "Un equilibrio", "Una escasez que presionará el precio al alza", "Un excedente que presionará el precio al alza"],
                answer: 2,
                explanation: "Cuando la demanda supera a la oferta, hay una escasez. La competencia entre los compradores por los pocos bienes disponibles hará que el precio suba."
            },
            {
                question: "¿Cuál de estos supuestos NO corresponde al modelo de mercado competitivo ideal?",
                options: ["Atomización", "Información Perfecta", "Un único vendedor con poder de fijar precios", "Racionalidad de los agentes"],
                answer: 2,
                explanation: "El modelo de mercado competitivo asume que ningún agente individual tiene poder para fijar precios (atomización). Un único vendedor corresponde a un modelo de monopolio."
            },
            {
                question: "Si el precio de los alquileres de departamentos sube, ¿qué sucederá en el mercado de compra-venta de departamentos (un bien sustituto)?",
                options: ["La demanda de compra disminuirá", "La oferta de compra disminuirá", "La demanda de compra aumentará", "La oferta de compra aumentará"],
                answer: 2,
                explanation: "Si alquilar se vuelve más caro, más gente considerará comprar como una alternativa. Esto aumenta la demanda de departamentos en venta, desplazando la curva a la derecha."
            },
            {
                question: "El 'efecto ingreso' explica que un aumento de precio en un bien:",
                options: ["Aumenta el poder adquisitivo del consumidor", "No afecta el poder adquisitivo", "Hace que el consumidor busque sustitutos", "Reduce el poder adquisitivo del consumidor"],
                answer: 3,
                explanation: "El efecto ingreso se refiere a cómo un cambio en el precio de un bien impacta el ingreso real (poder de compra) del consumidor, haciéndolo sentir 'más pobre' si el precio sube."
            },
            {
                question: "Si el gobierno establece un precio máximo para la carne por debajo del precio de equilibrio, el resultado más probable será:",
                options: ["Un excedente de carne", "Una escasez de carne", "Que el precio de mercado se ajuste al equilibrio", "Un aumento en la oferta de carne"],
                answer: 1,
                explanation: "Un precio máximo por debajo del equilibrio hará que la cantidad demandada supere a la cantidad ofrecida, generando una escasez en el mercado."
            },
            {
                question: "La invención de una nueva semilla transgénica que duplica la producción de maíz por hectárea causará:",
                options: ["Una disminución de la oferta de maíz", "Un aumento de la oferta de maíz", "Un aumento de la demanda de maíz", "Una disminución de la demanda de maíz"],
                answer: 1,
                explanation: "Este es un avance tecnológico que reduce costos y aumenta la productividad, lo que provoca un gran desplazamiento de la curva de oferta hacia la derecha (aumento de la oferta)."
            },
            {
                question: "¿Qué es un 'bien inferior'?",
                options: ["Un bien cuya demanda aumenta cuando el ingreso aumenta", "Un bien de mala calidad que nadie compra", "Un bien cuya demanda disminuye cuando el ingreso aumenta", "Un bien que no tiene sustitutos"],
                answer: 2,
                explanation: "Un bien inferior es aquel cuyo consumo disminuye a medida que los consumidores tienen más ingresos, ya que lo reemplazan por alternativas de mayor calidad o más deseadas."
            },
            {
                question: "En el gráfico de mercado, el eje vertical (ordenadas) representa:",
                options: ["La cantidad", "El tiempo", "El precio", "La tecnología"],
                answer: 2,
                explanation: "Por convención en economía, el eje vertical se usa para representar el precio y el eje horizontal (abscisas) para la cantidad."
            },
            {
                question: "Si se espera que el precio de los celulares aumente el próximo mes, ¿qué ocurrirá con la demanda de celulares HOY?",
                options: ["Disminuirá", "No cambiará", "Aumentará", "La oferta disminuirá"],
                answer: 2,
                explanation: "Las expectativas sobre precios futuros son un determinante de la demanda. Si la gente espera que el precio suba, adelantarán sus compras, aumentando la demanda actual."
            },
            {
                question: "El movimiento del punto A al punto B sobre la MISMA curva de demanda es un cambio en...",
                options: ["La demanda", "Los gustos", "La cantidad demandada", "El ingreso"],
                answer: 2,
                explanation: "Un movimiento entre dos puntos de la misma curva siempre representa un cambio en la cantidad demandada, causado por una variación en el precio del bien."
            },
            {
                question: "Si simultáneamente bajan los costos de producción de las bicicletas y se pone de moda usarlas para ir al trabajo, ¿qué podemos asegurar sobre el nuevo equilibrio?",
                options: ["El precio de equilibrio subirá", "El precio de equilibrio bajará", "La cantidad de equilibrio aumentará", "La cantidad de equilibrio disminuirá"],
                answer: 2,
                explanation: "El aumento de la oferta (por menores costos) y el aumento de la demanda (por la moda) ambos empujan la cantidad hacia la derecha. Por lo tanto, podemos asegurar que la cantidad de equilibrio aumentará. El efecto sobre el precio es incierto, dependerá de la magnitud de cada desplazamiento."
            },
            {
                question: "¿Cuál de las siguientes situaciones provocaría un desplazamiento de la curva de OFERTA de café hacia la izquierda?",
                options: ["Una exitosa campaña publicitaria sobre los beneficios del café", "Una plaga que afecta a los cafetales", "Una disminución en el precio del té (bien sustituto)", "El descubrimiento de que el café previene enfermedades"],
                answer: 1,
                explanation: "Una plaga es una influencia especial que reduce la capacidad de producción, disminuyendo la oferta y desplazando la curva hacia la izquierda."
            },
            {
                question: "El término 'precio que vacía el mercado' se refiere a:",
                options: ["Un precio tan alto que nadie compra", "Un precio tan bajo que todo se vende instantáneamente", "El precio de equilibrio", "El precio fijado por el gobierno"],
                answer: 2,
                explanation: "Es sinónimo de precio de equilibrio, porque a ese precio, todas las unidades que los oferentes quieren vender son compradas por los demandantes, 'vaciando' los estantes de excedentes o escaseces."
            },
            {
                question: "La 'atomización' en un mercado competitivo implica que:",
                options: ["Los productos son muy pequeños", "Hay muchos compradores y vendedores, y ninguno puede influir en el precio", "La información es escasa", "El mercado está a punto de desaparecer"],
                answer: 1,
                explanation: "La atomización es el supuesto de que hay tantos participantes en el mercado que la acción individual de uno solo es insignificante para afectar el precio total del mercado."
            },
            {
                question: "Si el precio de los autos eléctricos (sustitutos de los de nafta) baja significativamente, ¿qué pasará en el mercado de autos a nafta?",
                options: ["La demanda de autos a nafta aumentará", "La oferta de autos a nafta aumentará", "La demanda de autos a nafta disminuirá", "El equilibrio no cambiará"],
                answer: 2,
                explanation: "Al volverse más atractiva la alternativa (autos eléctricos), la demanda del bien original (autos a nafta) disminuirá, desplazando su curva de demanda hacia la izquierda."
            },
            {
                question: "¿Cómo responde el mercado a la pregunta '¿Para quién producir?'",
                options: ["A través de encuestas de necesidad", "A través del 'racionamiento a través del monedero'", "A través de la planificación central del gobierno", "Distribuyendo los bienes equitativamente"],
                answer: 1,
                explanation: "El mercado asigna los bienes a aquellos consumidores que tienen la capacidad y la voluntad de pagar el precio de equilibrio, un mecanismo conocido como 'racionamiento a través del monedero'."
            }
        ];

        let quizzes = [];
        let currentQuiz;
        let currentQuestionIndex = 0;
        let score = 0;

        const quizSelectionScreen = document.getElementById('quiz-selection-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const resultsScreen = document.getElementById('results-screen');
        const questionElement = document.getElementById('question');
        const optionsContainer = document.getElementById('options-container');
        const currentQuestionNumberElement = document.getElementById('current-question-number');
        const scoreElement = document.getElementById('score');
        const nextButton = document.getElementById('next-button');
        const feedbackMessage = document.getElementById('feedback-message');
        const finalScoreElement = document.getElementById('final-score');

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }
        
        function generateQuizzes() {
            quizzes = [];
            for (let i = 0; i < 10; i++) {
                shuffleArray(allQuestions);
                const selectedQuestions = allQuestions.slice(0, 20);
                quizzes.push({
                    title: `Examen de Práctica ${i + 1}`,
                    questions: selectedQuestions
                });
            }
        }

        function startQuiz(quizIndex) {
            currentQuiz = quizzes[quizIndex];
            currentQuestionIndex = 0;
            score = 0;
            
            quizSelectionScreen.classList.add('hidden');
            resultsScreen.classList.add('hidden');
            quizScreen.classList.remove('hidden');

            showQuestion();
        }

        function showQuestion() {
            const currentQuestionData = currentQuiz.questions[currentQuestionIndex];

            currentQuestionNumberElement.textContent = currentQuestionIndex + 1;
            scoreElement.textContent = score;
            questionElement.textContent = currentQuestionData.question;
            optionsContainer.innerHTML = '';
            feedbackMessage.classList.add('hidden');
            feedbackMessage.innerHTML = '';
            nextButton.disabled = true;

            const options = [...currentQuestionData.options];
            
            options.forEach((option, index) => {
                const button = document.createElement('button');
                button.textContent = option;
                button.classList.add('answer-button', 'block');
                button.onclick = () => checkAnswer(button, index);
                optionsContainer.appendChild(button);
            });
        }

        function checkAnswer(selectedButton, selectedIndex) {
            const currentQuestionData = currentQuiz.questions[currentQuestionIndex];
            const correctIndex = currentQuestionData.answer;

            Array.from(optionsContainer.children).forEach((button, index) => {
                button.disabled = true;
                if (index === correctIndex) {
                    button.classList.add('correct');
                }
            });

            if (selectedIndex === correctIndex) {
                score++;
                feedbackMessage.textContent = '¡Respuesta Correcta!';
                feedbackMessage.classList.remove('hidden', 'bg-red-100', 'text-red-700');
                feedbackMessage.classList.add('bg-green-100', 'text-green-700');
            } else {
                selectedButton.classList.add('incorrect');
                feedbackMessage.innerHTML = `
                    <div class="font-bold mb-2">¡Respuesta Incorrecta!</div>
                    <div class="explanation">
                        <strong class="text-indigo-700">Explicación:</strong>
                        <p class="text-sm mt-1 text-gray-700">${currentQuestionData.explanation}</p>
                    </div>
                `;
                feedbackMessage.classList.remove('hidden', 'bg-green-100', 'text-green-700');
                feedbackMessage.classList.add('bg-red-100', 'text-red-700');
            }

            feedbackMessage.classList.remove('hidden');
            scoreElement.textContent = score;
            nextButton.disabled = false;
            nextButton.focus();
        }

        function nextQuestion() {
            currentQuestionIndex++;
            if (currentQuestionIndex < currentQuiz.questions.length) {
                showQuestion();
            } else {
                endQuiz();
            }
        }

        function endQuiz() {
            quizScreen.classList.add('hidden');
            resultsScreen.classList.remove('hidden');
            finalScoreElement.textContent = score;
        }

        function restartQuiz() {
            resultsScreen.classList.add('hidden');
            quizSelectionScreen.classList.remove('hidden');
            generateQuizzes(); // Regenerar los exámenes para que sean diferentes cada vez
        }

        window.onload = function() {
            generateQuizzes();
            quizSelectionScreen.classList.remove('hidden');
        }
    </script>
</body>
</html>
